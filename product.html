<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <nav class="bg-white shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-4">
                <!-- Logo -->
                <div class="flex items-center">
                    <img class="h-8 mr-2" src="Bmw de vetor de carro _ Vetor Premium.jpeg" alt="Logo">
                    <span class="text-lg font-bold text-gray-800">ReyCarrent</span>
                </div>
                <!-- Menu -->
                <div class="hidden md:flex">
                    <a href="user.html"
                        class="text-gray-800 hover:text-gray-600 px-4 py-2 flex items-center transition duration-300">
                        <svg class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
                        User
                    </a>
                    <a href="index.html"
                        class="text-gray-800 hover:text-gray-600 px-4 py-2 flex items-center transition duration-300">
                        <svg class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 4h4a1 1 0 011 1v14a1 1 0 01-1 1h-4a1 1 0 01-1-1V5a1 1 0 011-1z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Home
                    </a>
                    <a href="order.html"
                        class="text-gray-800 hover:text-gray-600 px-4 py-2 flex items-center transition duration-300">
                        <svg class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        Order
                    </a>
                    <a href="services.html"
                        class="text-gray-800 hover:text-gray-600 px-4 py-2 flex items-center transition duration-300">
                        <svg class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 4h4a1 1 0 011 1v14a1 1 0 01-1 1h-4a1 1 0 01-1-1V5a1 1 0 011-1z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Services
                    </a>

                    <a href="product.html"
                        class="text-gray-800 hover:text-gray-600 px-4 py-2 flex items-center transition duration-300">
                        <svg class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10 4h4a1 1 0 011 1v14a1 1 0 01-1 1h-4a1 1 0 01-1-1V5a1 1 0 011-1z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Product
                    </a>

                    <a href="datastorage.html"
                        class="text-gray-800 hover:text-gray-600 px-4 py-2 flex items-center transition duration-300">
                        <svg class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        Datastorage
                    </a>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button"
                        class="text-gray-800 hover:text-gray-600 focus:outline-none focus:text-gray-600">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#" class="block text-center py-2 bg-gray-200 hover:bg-gray-300">User</a>
            <a href="#" class="block text-center py-2 bg-gray-200 hover:bg-gray-300">Biodata</a>
            <a href="#" class="block text-center py-2 bg-gray-200 hover:bg-gray-300">Product</a>
            <a href="#" class="block text-center py-2 bg-gray-200 hover:bg-gray-300">Service</a>
            <a href="#" class="block text-center py-2 bg-gray-200 hover:bg-gray-300">Data Storage</a>
        </div>
    </nav>
    <!-- Main Content -->
    <div class="container mx-auto py-8">
        <table class="w-full">
            <!-- Table content goes here -->
        </table>
        <!-- Form content goes here -->
    </div>
    </div>

    <div id="app" class="container mx-auto py-8">
        <table class="w-full">
            <thead>
                <tr>
                    <th class="px-4 py-2">ID</th>
                    <th class="px-4 py-2">Car Type</th>
                    <th class="px-4 py-2">Car Model</th>
                    <th class="px-4 py-2">Car Color</th>
                    <th class="px-4 py-2">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="product in products" :key="product.id">
                    <td class="border px-4 py-2">{{product.id}}</td>
                    <td class="border px-4 py-2">{{product.cartype}}</td>
                    <td class="border px-4 py-2">{{product.carmodel}}</td>
                    <td class="border px-4 py-2">{{product.carcolor}}</td>

                    <td class="border px-4 py-2">

                        <button @click="getEditProduct(product)"
                            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Edit</button>
                        <button @click="deleteProduct(product)"
                            class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <button @click="getProducts"
            class="mt-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Get Products</button>

        <br><br>

        <form @submit.prevent="">
            <h3 class="text-lg font-bold mb-4">Form Product</h3>
            <label class="block mb-2">Car Type:</label>
            <input type="text" v-model="product.cartype" class="border rounded-md px-2 py-1 mb-2"><br>
            <label class="block mb-2">Car Model:</label><input type="text" v-model="product.carmodel"
                class="border rounded-md px-2 py-1 mb-2"><br>
            <label class="block mb-2">Car Color:</label><input type="text" v-model="product.carcolor"
                class="border rounded-md px-2 py-1 mb-2"><br>

            <button v-if="!isEdit" @click="addProduct"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Add Form</button>
            <button v-if="isEdit" @click="updateProduct"
                class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Update Form</button>
        </form>
    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    products: [],
                    product: {
                    cartype: '',
                    carmodel: '',
                    carcolor: '',
                    },
                    isEdit: false,
                    productIdSelected: null
                }
            },
            methods: {
                getProducts() {
                    axios
                        .get('https://65e71c1c53d564627a8df3e4.mockapi.io/product')
                        .then((response) => {
                            this.products = response.data
                        })
                },
                addProduct() {
                    axios
                        .post('https://65e71c1c53d564627a8df3e4.mockapi.io/product', {
                            cartype: this.product.cartype,
                            carmodel: this.product.carmodel,
                            carcolor: this.product.carcolor,

                        })
                        .then((response) => {
                            this.getProducts();
                            alert("New user has been saved");
                            console.log(response);
                            this.resetForm();
                        })
                        .catch((error) => {
                            console.log(error);
                        });

                },
                getEditProduct(product) {
                    this.isEdit = true
                    this.productIdSelected = product.id
                    this.product.cartype = product.cartype
                    this.product.carmodel = product.carmodel
                    this.product.carcolor = product.carcolor
                },
                updateProduct() {
                    axios
                        .put(
                            `https://65e71c1c53d564627a8df3e4.mockapi.io/product/${this.productIdSelected}`,
                            {
                                cartype: this.product.cartype,
                                carmodel: this.product.carmodel,
                                carcolor: this.product.carcolor,

                            }
                        )
                        .then((response) => {
                            this.getProducts();
                            alert("User has been updated");
                            console.log(response);
                            this.isEdit = false;
                            this.resetForm();
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
                deleteProduct(product) {
                    if (confirm("Are you sure you want to delete this user?")) {
                        axios
                            .delete(
                                `https://65e71c1c53d564627a8df3e4.mockapi.io/product/${product.id}`,
                            )
                            .then((res) => {
                                alert("Product has been deleted");
                                this.getProducts();
                                this.resetForm();
                            })
                            .catch((err) => {
                                console.log(err)
                            });
                    }
                },
                resetForm() {
                    this.product.cartype = ''
                    this.product.carmodel = ''
                    this.product.carcolor = ''

                }
            }
        }).mount('#app')

    </script>

    <footer class="bg-gray-100 text-black py-12">
        <div class="container mx-auto flex flex-wrap justify-between">
            <div class="w-full md:w-1/3 mb-6 md:mb-0">
                <h2 class="text-2xl font-semibold">ReyCarrent</h2>
                <p class="mt-4">UNAI Street<br>Bandung</p>
            </div>
            <div class="w-full md:w-1/3 mb-6 md:mb-0">
                <h2 class="text-2xl font-semibold">Useful Links</h2>
                <ul class="mt-4">
                    <li><a href="user.html" class="hover:text-gray-400">User</a></li>
                    <li><a href="index.html" class="hover:text-gray-400">Home</a></li>
                    <li><a href="order.html" class="hover:text-gray-400">Order</a></li>
                    <li><a href="services.html" class="hover:text-gray-400">Services</a></li>
                    <li><a href="datastorage.html" class="hover:text-gray-400">Data Storage</a></li>
                </ul>
            </div>
            <div class="w-full md:w-1/3">
                <h2 class="text-2xl font-semibold">Contact Us</h2>
                <p class="mt-4">Email: reycarrent@gmail.com<br>Phone: 087779337289</p>
            </div>
        </div>
    </footer>


</body>

</html>